<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine ğŸ’•</title>

<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(180deg, #fff0f5, #ffffff);
  text-align: center;
  overflow-x: hidden;
}

/* HEART CONFETTI */
.heart {
  position: fixed;
  font-size: 18px;
  animation: float 6s linear infinite;
}
@keyframes float {
  from { transform: translateY(100vh); opacity: 1; }
  to { transform: translateY(-10vh); opacity: 0; }
}

/* EXPLODING ANGER */
.explode {
  animation: boom 0.6s ease forwards;
}
@keyframes boom {
  0% { transform: scale(1); opacity: 1; }
  60% { transform: scale(2.5) rotate(20deg); }
  100% { transform: scale(0); opacity: 0; }
}

/* PAGES */
.page { display: none; min-height: 100vh; padding: 40px 20px; }
.page.active { display: block; }

/* BUTTONS */
button {
  padding: 14px 26px;
  border-radius: 30px;
  border: none;
  font-size: 16px;
  cursor: pointer;
  margin: 10px;
}
.yes { background: #ff5e8a; color: white; }
.no { background: #f3f3f3; position: absolute; }

/* GIFTS */
.gifts {
  display: flex;
  justify-content: center;
  gap: 25px;
}
.gift {
  font-size: 60px;
  cursor: pointer;
  transition: transform 0.3s;
}
.gift.done {
  opacity: 0.6;
  transform: scale(0.9);
}
.gift:hover { transform: scale(1.2); }

/* PUZZLE (UNCHANGED) */
#puzzle {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  max-width: 300px;
  margin: 20px auto;
  gap: 6px;
}
.tile {
  aspect-ratio: 1/1;
  background-image: url("photo1.jpg");
  background-size: 300% 300%;
  border-radius: 10px;
  cursor: grab;
}
.hidden { display: none; }

/* QUIZ */
.quiz-box { max-width: 520px; margin: 30px auto; }

.choice {
  background: #fff;
  border: 2px solid #ffd1dc;
  padding: 14px;
  border-radius: 16px;
  margin: 10px 0;
  cursor: pointer;
  transition: all 0.3s;
}
.choice:hover { background: #fff0f5; }

/* METER */
.meter-area { margin: 20px auto; max-width: 300px; }
.meter {
  height: 18px;
  background: #eee;
  border-radius: 20px;
  overflow: hidden;
}
.meter-fill {
  height: 100%;
  width: 50%;
  background: linear-gradient(90deg, #ff7676, #ffd56b, #7bed9f);
  transition: width 0.6s ease;
}
.emoji-row {
  display: flex;
  justify-content: space-between;
  font-size: 26px;
  margin-bottom: 5px;
}
.emoji {
  transition: transform 0.4s ease;
}
.big { transform: scale(1.6); }

/* RESULT */
.result img {
  max-width: 200px;
  margin-top: 20px;
}
</style>
</head>

<body>

<!-- PAGE 1 -->
<div class="page active" id="page1">
  <h1>ğŸ’– Can you be my Valentine? ğŸ’–</h1>
  <button class="yes" onclick="goToGifts()">Yes ğŸ’˜</button>
  <button class="no" id="noBtn">No ğŸ™ƒ</button>
</div>

<!-- PAGE 2 -->
<div class="page" id="page2">
  <h2>Choose a gift ğŸ</h2>
  <div class="gifts">
    <div class="gift" id="gift1" onclick="openPuzzle()">ğŸ</div>
    <div class="gift" id="gift2" onclick="openQuiz()">ğŸ</div>
    <div class="gift">ğŸ</div>
  </div>
</div>

<!-- PAGE 3 â€“ PUZZLE (UNCHANGED) -->
<div class="page" id="page3">
  <h2>Put it together ğŸ§©</h2>
  <div id="puzzle"></div>
  <p id="puzzleMessage" class="hidden">ğŸ’• This is my favorite picture of you ğŸ’•</p>
</div>

<!-- PAGE 4 â€“ QUIZ -->
<div class="page" id="page4">
  <h2>Now is the time for a quiz ğŸ’—<br>Please answer these 10 questions</h2>

  <div class="meter-area">
    <div class="emoji-row">
      <span id="angry" class="emoji">ğŸ˜ </span>
      <span id="happy" class="emoji">ğŸ˜„</span>
    </div>
    <div class="meter">
      <div class="meter-fill" id="meterFill"></div>
    </div>
  </div>

  <div class="quiz-box" id="quizBox"></div>
</div>

<script>
/* MOVING NO */
noBtn.onmouseover = () => {
  noBtn.style.left = Math.random()*80 + "vw";
  noBtn.style.top = Math.random()*80 + "vh";
};

/* CONFETTI */
setInterval(() => {
  const h = document.createElement("div");
  h.className = "heart";
  h.textContent = "ğŸ’—";
  h.style.left = Math.random()*100 + "vw";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
},300);

/* NAV */
function goToGifts() {
  page1.classList.remove("active");
  page2.classList.add("active");
}
function backToGifts(id) {
  document.getElementById(id).classList.add("done");
  page4.classList.remove("active");
  page3.classList.remove("active");
  page2.classList.add("active");
}

/* QUIZ DATA */
const quiz = [
 {q:"When is my birthday?",a:"June 22, 1998",o:["June 22, 1998","June 10, 1998","July 22, 1998","June 30, 1998"]},
 {q:"What is my nickname?",a:"Bebe",o:["Bebe","Baby","Bee","Bb"]},
 {q:"When was the first time we talked on Instagram?",a:"March 2, 2024",o:["March 2, 2024","March 5, 2024","Feb 28, 2024","March 12, 2024"]},
 {q:"When was the first time you said \"I love you\"?",a:"June 3, 2024",o:["June 3, 2024","June 7, 2024","May 30, 2024","June 10, 2024"]},
 {q:"When was the first time I told you \"I love you\"?",a:"July 23, 2024",o:["July 23, 2024","July 15, 2024","July 30, 2024","Aug 1, 2024"]},
 {q:"When did we became MU?",a:"April 27, 2024",o:["April 27, 2024","April 20, 2024","May 1, 2024","April 30, 2024"]},
 {q:"When was our first video call?",a:"September 14, 2024",o:["September 14, 2024","Sept 10, 2024","Sept 20, 2024","Sept 1, 2024"]},
 {q:"When was the first time you held my hand?",a:"October 9, 2025",o:["October 9, 2025","October 5, 2025","October 15, 2025","October 1, 2025"]},
 {q:"When was our first kiss?",a:"October 10, 2025",o:["October 10, 2025","October 12, 2025","October 8, 2025","October 15, 2025"]},
 {q:"When did we became officially together?",a:"January 1, 2026",o:["January 1, 2026","Feb 1, 2026","Dec 31, 2025","Jan 15, 2026"]}
];

let qi = 0, meter = 50;

function shuffle(arr){
  return arr.sort(()=>Math.random()-0.5);
}

function openQuiz(){
  page2.classList.remove("active");
  page4.classList.add("active");
  showQ();
}

function showQ(){
  quizBox.innerHTML="";
  if(qi>=quiz.length){
    finishQuiz();
    return;
  }
  const q=quiz[qi];
  quizBox.innerHTML=`<h3>${q.q}</h3>`;
  shuffle([...q.o]).forEach(c=>{
    const d=document.createElement("div");
    d.className="choice";
    d.textContent=c;
    d.onclick=()=>answer(c===q.a);
    quizBox.appendChild(d);
  });
}

function answer(ok){
  meter += ok ? 10 : -10;
  meter = Math.max(0, Math.min(100, meter));
  meterFill.style.width = meter + "%";

  angry.classList.toggle("big", meter < 50);
  happy.classList.toggle("big", meter > 50);

  if(meter === 0){
    angry.classList.add("explode");
    quizBox.innerHTML = `<div class="result">
      <h3>You forget about me ğŸ˜¿<br>You don't love me</h3>
      <img src="sadcat.jpg">
    </div>`;
    setTimeout(()=>backToGifts("gift2"),4000);
    return;
  }

  qi++;
  setTimeout(showQ,600);
}

function finishQuiz(){
  quizBox.innerHTML = `<div class="result">
    <h3>I love you so much ğŸ’–</h3>
    <img src="happy.gif">
  </div>`;
  setTimeout(()=>backToGifts("gift2"),4000);
}
</script>

</body>
</html>
