<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine ğŸ’˜</title>

<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(180deg, #fff0f5, #ffe4ec);
  text-align: center;
  overflow-x: hidden;
}

.hidden { display: none; }

button {
  padding: 12px 22px;
  border-radius: 20px;
  border: none;
  font-size: 16px;
  cursor: pointer;
}

#yesBtn { background: #ff5e8a; color: white; }
#noBtn { background: #ddd; position: absolute; }

.gifts {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 40px;
}

.gift {
  width: 120px;
  height: 120px;
  background: #ffb6c1;
  border-radius: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 40px;
  cursor: pointer;
  transition: transform 0.3s;
}

.gift.completed {
  background: #ffd1dc;
  opacity: 0.7;
}

.gift:hover { transform: scale(1.05); }

.meter {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 20px;
  margin: 20px 0;
}

.meter span {
  font-size: 40px;
  transition: transform 0.4s;
}

.answers button {
  display: block;
  margin: 10px auto;
  width: 80%;
}

.confetti {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}
</style>
</head>

<body>

<!-- PAGE 1 -->
<div id="page1">
  <h1>Can you be my Valentine? ğŸ’–</h1>
  <button id="yesBtn">Yes</button>
  <button id="noBtn">No</button>
</div>

<!-- GIFTS PAGE -->
<div id="giftsPage" class="hidden">
  <h2>Choose a gift ğŸ</h2>
  <div class="gifts">
    <div class="gift" id="gift1">ğŸ</div>
    <div class="gift" id="gift2">ğŸ</div>
    <div class="gift" id="gift3">ğŸ</div>
  </div>
</div>

<!-- ===================== -->
<!-- GIFT 1 (UNCHANGED) -->
<!-- ===================== -->
<div id="gift1Page" class="hidden">
  <!-- YOUR EXISTING PUZZLE CODE STAYS EXACTLY THE SAME -->
</div>

<!-- ===================== -->
<!-- GIFT 2 â€“ QUIZ GAME -->
<!-- ===================== -->
<div id="gift2Page" class="hidden">
  <h2>Now is the time for a quiz ğŸ’Œ<br>Please answer these 10 questions</h2>

  <div class="meter">
    <span id="anger">ğŸ˜¾</span>
    <span id="happy">ğŸ˜</span>
  </div>

  <div id="quiz"></div>
</div>

<!-- RESULT -->
<div id="resultPage" class="hidden"></div>

<script>
/* NO BUTTON RUNS AWAY */
const noBtn = document.getElementById('noBtn');
noBtn.addEventListener('mouseover', () => {
  noBtn.style.left = Math.random() * 80 + "%";
  noBtn.style.top = Math.random() * 80 + "%";
});

/* YES */
document.getElementById('yesBtn').onclick = () => {
  page1.classList.add('hidden');
  giftsPage.classList.remove('hidden');
};

/* GIFT CLICK */
gift2.onclick = () => {
  giftsPage.classList.add('hidden');
  gift2Page.classList.remove('hidden');
  startQuiz();
};

let angerLevel = 5;
let happyLevel = 5;

const questions = [
  {q:"When is my birthday?", a:"June 22, 1998", o:["June 10, 1998","June 18, 1998","June 25, 1998"]},
  {q:"What is my nickname?", a:"Bebe", o:["Baby","Beh","Love"]},
  {q:"When was the first time we talked on Instagram?", a:"March 2, 2024", o:["March 5, 2024","March 10, 2024","March 18, 2024"]},
  {q:"When was the first time you said I love you?", a:"June 3, 2024", o:["June 10, 2024","June 15, 2024","June 20, 2024"]},
  {q:"When was the first time I told you I love you?", a:"July 23, 2024", o:["July 10, 2024","July 15, 2024","July 30, 2024"]},
  {q:"When did we became MU?", a:"April 27, 2024", o:["April 10, 2024","April 15, 2024","April 30, 2024"]},
  {q:"When was our first video call?", a:"September 14, 2024", o:["September 5, 2024","September 20, 2024","September 25, 2024"]},
  {q:"When was the first time you held my hand?", a:"October 9, 2025", o:["October 1, 2025","October 5, 2025","October 20, 2025"]},
  {q:"When was our first kiss?", a:"October 10, 2025", o:["October 3, 2025","October 15, 2025","October 20, 2025"]},
  {q:"When did we became officially together?", a:"January 1, 2026", o:["February 1, 2026","March 1, 2026","December 25, 2025"]}
];

let index = 0;

function shuffle(arr){
  return arr.sort(() => Math.random() - 0.5);
}

function startQuiz(){
  angerLevel = 5;
  happyLevel = 5;
  index = 0;
  showQuestion();
}

function showQuestion(){
  if(index >= questions.length){
    finishQuiz();
    return;
  }

  const q = questions[index];
  const allAnswers = shuffle([q.a, ...q.o]);

  quiz.innerHTML = `
    <h3>Question ${index+1}</h3>
    <p>${q.q}</p>
    <div class="answers">
      ${allAnswers.map(a => `<button onclick="answer('${a}','${q.a}')">${a}</button>`).join("")}
    </div>
  `;
}

function answer(selected, correct){
  if(selected === correct){
    happyLevel++;
    happy.style.transform = "scale(1.5)";
    setTimeout(()=>happy.style.transform="scale(1)",300);
  } else {
    angerLevel--;
    anger.style.transform = "scale(1.5)";
    setTimeout(()=>anger.style.transform="scale(1)",300);
  }

  if(angerLevel <= 0){
    resultPage.innerHTML = `<h2>ğŸ˜¿ You forget about me<br>You don't love me</h2>`;
    endGame();
    return;
  }

  index++;
  setTimeout(showQuestion, 400);
}

function finishQuiz(){
  resultPage.innerHTML = `
    <h2>I love you so much ğŸ’–</h2>
    <p>ğŸ‰ğŸ‰ğŸ‰</p>
  `;
  endGame();
}

function endGame(){
  gift2.classList.add("completed");
  gift2Page.classList.add("hidden");
  resultPage.classList.remove("hidden");
  setTimeout(()=>{
    resultPage.classList.add("hidden");
    giftsPage.classList.remove("hidden");
  },3000);
}
</script>

</body>
</html>
